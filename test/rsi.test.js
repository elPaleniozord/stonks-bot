const { RSI } = require('../indicators/rsi')
const data = require('./data/klines-15m_2-3-march-2021')
const ticks = data

test('Should properly compute Relative Strength Index for sample data with default values', () => {
  const rsi = RSI(ticks)
  const expectedResult = [
    100, 100, 100, 100,
    100, 76.02692845020711, 58.227990511366635,  46.80203866067137,
    42.76281671521519, 45.772535512700074,  53.39471183024709,  52.02791194598359,
    53.692533881213066,  57.03040085553155,  52.41551385214579,  50.50818765213535,
    47.359941071502654, 45.725020634170086, 46.040074767993076, 46.284374566290445,
    43.255575227469905,  46.18316653340228, 48.246897056375516,  49.46097171143222,
    47.92231298978103, 46.516711805744016, 44.909617950690816,  42.93543271441606,
    42.92359570032911, 44.778458430385065, 44.177825168659005, 42.324471505637426,
    43.730262422335365,   44.9578941776787,  42.87368542757046, 43.225345981052044,
    46.62190532514058, 47.889733592253215,  47.77550473632655,  47.79371062908344,
    48.171115039065384, 49.384237165277966,  49.26950857086513,  48.71291132939796,
    47.97362712778344,  48.76590266812821, 46.752047174932244,  46.38331901672647,
    46.78300415615358,  48.07516295063862,  47.61732610173717,  47.36192690860102,
    46.24993928623783,  46.35499961752815,  46.96783843244006, 47.504537007620385,
    48.408378866778556,   47.7206616804098,  48.04704898435818, 49.896391900465034,
    51.66335694966501, 50.839339852559775,  48.87276828107531,  47.86508615863587,
    46.81169494961907,  46.41402449488492,  46.70824721513419,  46.40326181588161,
    46.627395712011406,  43.88878888278033, 42.280808648918836,  41.97686852446024,
    43.09639749874799, 43.212167489703766, 43.638715105245424,  43.92468279556023,
    43.47791766981087,  43.21433469748916,  43.04824272739233,  42.20626430278453,
    42.48870542368989,  43.71532222746843,  43.04896373822823,   42.5896386465549,
    42.74292892134474,  42.45100247559592,  42.48595944534223, 43.803644196711076,
    44.158851559505585,  43.15692669339665,  43.07164587469881, 43.758155929086655,
    44.28343937064739,  44.66004786875915, 44.578313552562705,  45.79755879668194
  ]
  expect(rsi).toEqual(expectedResult)
})